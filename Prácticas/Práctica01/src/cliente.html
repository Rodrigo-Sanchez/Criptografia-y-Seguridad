<!DOCTYPE html>
<html>

<head>
    <title>Cliente chat</title>
</head>

<body>
    <div>
        <input placeholder="Mensaje plano" type="text" id="mensaje">
        <button id="boton">Enviar</button>
    </div>
    <div id="salida"></div>
    <script type="text/javascript">
        var boton = document.getElementById('boton'),
            mensaje = document.getElementById('mensaje'),
            salida = document.getElementById('salida'),
            websocket = new WebSocket("ws://18.220.235.202:7500/");
        boton.onclick = function (event) {
            if (mensaje.value) {
                websocket.send(mensaje.value);
            }
        }
        websocket.onmessage = function (event) {
            nueva_linea = document.createElement('p')
            console.log(event.data)
            nueva_linea.textContent = event.data
            salida.appendChild(nueva_linea)
        }
    </script>
</body>

</html>